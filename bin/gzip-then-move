#!/usr/bin/env bash

## Name: gzip-then-move
## Created: Mon Oct 14 14:51:00 PDT 2019
## Updated: 2020.02.16 / 11:34 (rename)
## Description: gunzip files in source dir and move to destination dir.

gzip_and_move() {

  local grn='\033[0;32m'
  local def='\033[0m'

  if [ ! -d "$2" ]; then
    mkdir ./"$2"
    echo "Created destination directory."
  fi

  echo

  for each_file in $1/*; do
    gzip -k "$each_file"
    mv "$each_file".gz "$2"
    echo -e "${grn}$(basename "$each_file") copied to ${2}${def}"
  done

  echo
  echo "Done."

}

gzip_and_move "$1" "$2"
